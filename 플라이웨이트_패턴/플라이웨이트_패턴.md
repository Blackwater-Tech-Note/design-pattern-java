## ğŸ§ší”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´
> ë™ì¼í•˜ê±°ë‚˜ ìœ ì‚¬í•˜ ê°ì²´ë“¤ ì‚¬ì´ì— ê°€ëŠ¥í•œ ë§ì€ ë°ì´í„°ë¥¼ ì„œë¡œ ê³µìœ í•˜ì—¬ ì‚¬ìš©í•˜ë„ë¡ í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì†Œí™”í•˜ëŠ” íŒ¨í„´


## ì˜ˆì œ
ì˜ˆë¥¼ ë“¤ì–´ì„œ "ê·¸ë¦¼"ì„ ê·¸ë¦°ë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.

ê·¸ë¦¼ì„ ê·¸ë¦´ ë•Œ "ì›","ì„ " ê³¼ ê°™ì€ ë„í˜•ì— ëŒ€í•œ ê²ƒì€ ë°”ë€Œì§€ ì•Šê³ 

í¬ê¸°, ë†’ì´, ì‚¬ì´ì¦ˆì— ê´€í•œ ì •ë³´ë§Œ ë°”ë€Œê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ì´ëŸ° ìƒê°ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë„í˜•ì„ ì¬ì‚¬ìš©í•˜ê³  í¬ê¸°ì™€ ë†’ì´, ì‚¬ì´ì¦ˆë§Œ ë‹¬ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ë³´ì!

![image](https://github.com/Blackwater-Tech-Note/design-pattern-java/assets/108210958/49d42c64-ecfe-4ba4-abb1-1ae95f2f5e9f)

![image](https://github.com/Blackwater-Tech-Note/design-pattern-java/assets/108210958/fca0cb4f-079f-44a2-9635-a5271494a18e)
ìœ„ ê²°ê³¼ëŠ” ì½”ë“œë¥¼ í†µí•´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤. 

ì„¤ëª…í•´ë³´ë©´ ì—¬ëŸ¬ ë„í˜•ì„ ëœë¤ìœ¼ë¡œ ê³„ì† ìƒì„±í•´ë„
ë§Œë“¤ì–´ì§„ ê°ì²´ëŠ” 3ê°œ ë¿ì´ë‹¤.

ì •ë¦¬í•´ë³´ë©´ í”Œë¼ì´ì›¨ì´ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìš°ë¦¬ê°€ êµ¬ë¶„ì§€ì–´ì•¼í•  ë¶€ë¶„ì€

ì¸ìŠ¤í„´ìŠ¤ê°€ ì–´ë– í•œ ìƒí™©ì—ì„œë„ ë³€í•˜ì§€ ì•ŠëŠ” ì •ë³´("instrinsic")ì™€ 

ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‘ëŠ” ì¥ì†Œë‚˜ ìƒí™©ì— ë”°ë¼ì„œ ë³€í™”í•˜ëŠ” ì •ë³´("exstrinsic")ì…ë‹ˆë‹¤.

## ì‚¬ìš©ì‹œê¸°
- ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì˜í•´ ìƒì„±ë˜ëŠ” ê°ì²´ì˜ ìˆ˜ê°€ ë§ì•„ ì €ì¥ ë¹„ìš©ì´ ë†’ì•„ì§ˆ ë•Œ

- ìƒì„±ëœ ê°ì²´ê°€ ì˜¤ë˜ë„ë¡ ë©”ëª¨ë¦¬ì— ìƒì£¼í•˜ë©° ì‚¬ìš©ë˜ëŠ” íšŸìˆ˜ê°€ ë§ì„ ë•Œ

- ê³µí†µì ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§ì´ ìƒì„±í•˜ëŠ” ë¡œì§ì´ í¬í•¨ë˜ëŠ” ê²½ìš°

- ì„ë² ë””ë“œì™€ ê°™ì€ ë©”ëª¨ë¦¬ë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê²½ìš°

## Pros and Cons
- ì¥ì  (Pros)

  - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤

  - í”„ë¡œê·¸ë¨ ì†ë„ë¥¼ ê°œì„ í•  ìˆ˜ ìˆë‹¤

    - newë¡œ ì¸ìŠ¤í„´ìŠ¤í™” í•˜ë©´ ë°ì´í„°ê°€ ìƒì„±ë˜ê³  ë©”ëª¨ë¦¬ì— ì ì¬ë˜ëŠ” ë¯¸ëŸ‰ì˜ ì‹œê°„ì´ ê±¸ë¦°ë‹¤.

    - ê°ì²´ë¥¼ ê³µìœ í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜¤ê¸°ë§Œ í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ë¿ë§Œì•„ë‹ˆë¼ ì†ë„ë„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤

- ë‹¨ì  (Cons)

  - ì½”ë“œì˜ ë³µì¡ë„ê°€ ì¦ê°€í•œë‹¤.
 
## ì‹±ê¸€í†¤ íŒ¨í„´ê³¼ í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ ë¹„ìŠ·í•´ë³´ì´ëŠ”ë°? ğŸ¤”
> ì‹±ê¸€í†¤ íŒ¨í„´ì€ í´ë˜ìŠ¤ ìì²´ê°€ ì˜¤ì§ 1ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œì„ ê°€ì§€ë„ë¡ ì œí•œí•˜ì§€ë§Œ, í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì€ íŒ©í† ë¦¬ê°€ ì œì–´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
> ì¦‰, ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ëˆ„ê°€ ì œì–´í•˜ëŠëƒì˜ ì°¨ì´ì…ë‹ˆë‹¤.

## ìë°”ì—ì„œì˜ StringÂ ConstantÂ Poo
- ìë°”ëŠ” String ë°ì´í„°ì— ëŒ€í•´ ë³„ë„ë¡œ string constant pool ì˜ì—­ì— ì ì¬í•œë‹¤.

- ê·¸ë˜ì„œ ê°™ì€ ë¬¸ìì—´ ë°ì´í„° ë‹¤ì‹œ ì‚¬ìš©ë ë•Œ poolì„ ê²€ì‚¬í•´ ìˆë‹¤ë©´ ì´ë¥¼ ê³µìœ í•œë‹¤.

- ë§Œì¼ poolì— ì—†ë‹¤ë©´ ìƒˆë¡œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ì—¬ poolì— ë“±ë¡í•œ í›„ ì¬ì‚¬ìš©í•œë‹¤.

- ì¦‰, String í´ë˜ìŠ¤ëŠ” Flyweight íŒ¨í„´ì„ í†µí•´ ë¦¬í„°ëŸ´ ë¬¸ìì—´ ë°ì´í„°ì— ëŒ€í•œ ìºì‹±ì„ í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤.

- ë˜í•œ String í´ë˜ìŠ¤ëŠ” ë¶ˆë³€(immutable) ê°ì²´ íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆë‹¤.

```java
// ë¬¸ìì—´ ë¦¬í„°ëŸ´ì€ String Poolì— ì €ì¥ë˜ëŠ” Flyweight íŒ¨í„´ì„ ì´ìš©í•œë‹¤.
String str1 = "Hello"; 
String str2 = "Hello";
 
// ë‘ ì£¼ì†Œê°’ì´ ê°™ë‹¤ëŠ” ë§ì€ ë©”ëª¨ë¦¬ì— í•˜ë‚˜ì˜ ë°ì´í„°ë§Œ ì ì¬ë˜ê³  ì´ë¥¼ ê³µìœ í•˜ê³  ìˆë‹¤ëŠ” ë°˜ì¦
System.out.println(str1 == str2); // true
```

```java
// new ì—°ì‚°ìë¥¼ ì´ìš©í•œ ë°©ì‹ì€ Flyweight íŒ¨í„´ì„ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
String str3 = new String("Hello"); 
String str4 = new String("Hello");

// ì„œë¡œ ë‹¤ë¥¸ í™ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ë°ì´í„°ì´ë‹ˆ ë‘ ì£¼ì†Ÿê°’ì€ ë‹¤ë¥´ë‹¤
System.out.println(str3 == str4); // false
```
![image](https://github.com/Blackwater-Tech-Note/design-pattern-java/assets/108210958/a1f06c20-ddec-4d91-a384-13ea4a12b31f)

## ì¶œì²˜
https://www.digitalocean.com/community/tutorials/flyweight-design-pattern-java
https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-Flyweight-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90
